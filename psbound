param (
    [Parameter(Mandatory = $true)]
    [ValidateSet("uat", "prod", "uat-azure")]
    [string]$env,

    [Parameter(Mandatory = $true)]
    [ValidateSet("runtime", "deploy")]
    [string]$scope,

    [Parameter(Mandatory = $true)]
    [string]$key
)

# Check if all mandatory parameters are provided
if (-not $PSBoundParameters.ContainsKey('env') -or
    -not $PSBoundParameters.ContainsKey('scope') -or
    -not $PSBoundParameters.ContainsKey('key')) {
    Write-Host "Error: All three parameters are mandatory." -ForegroundColor Red
    Write-Host "Usage: .\script.ps1 -env <uat|prod|uat-azure> -scope <runtime|deploy> -key <key_value>"
    Write-Host "Example combinations:"
    Write-Host "`t.\script.ps1 -env uat -scope runtime -key <key_value>"
    Write-Host "`t.\script.ps1 -env prod -scope deploy -key <key_value>"
    Write-Host "`t.\script.ps1 -env uat-azure -scope runtime -key <key_value>"
    Write-Host "`t.\script.ps1 -env uat-azure -scope deploy -key <key_value>"
    exit
}

# Your script logic goes here
Write-Host "All mandatory parameters provided. Script is running..."
